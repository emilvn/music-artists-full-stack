<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: src/validation/artist.validation.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: src/validation/artist.validation.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {ValidationError} from "../errors/ValidationError.js";

/**
 * function to validate all properties of Artist object
 * @param {Artist} artist artist object to validate
 * @throws {ValidationError} rethrows if a property is invalid
 */
export function validateArtist(artist){
	try{
		validateName(artist.name);
		validateDate(artist.birthdate);
		validateDate(artist.activeSince);
		validateArr(artist.genres);
		validateArr(artist.labels);
		validateArr(artist.roles);
		validateURL(artist.website);
		validateURL(artist.image);
		validateDescription(artist.shortDescription);
	}
	catch(err){
		throw err;
	}

}

/**
 * function to validate artist name
 * @param {string} name artist name
 * @throws {ValidationError} if name not a string, or not between 3 and 30 characters long
 */
function validateName(name){
	if(typeof name !== "string" || name.length &lt; 3 || name.length > 30) {
		throw new ValidationError("Invalid artist name");
	}
}

/**
 * function to validate artist name
 * @param {string} date artist birthdate/active since date
 * @throws {ValidationError} if date not a string and not in format YYYY-MM-DD
 */
function validateDate(date){
	if(typeof date !== "string" || !date.match(/^\d{4}-\d{2}-\d{2}$/)){
		throw new ValidationError("Invalid date, must be of format YYYY-MM-DD");
	}
}

/**
 * function to validate artist name
 * @param {string[]} arr artist genres/roles/labels
 * @throws {ValidationError} if not an array, or if empty array
 */
function validateArr(arr){
	if(!Array.isArray(arr) || arr.length === 0){
		throw new ValidationError("Invalid genres, roles or labels, must be an array with at least 1 value");
	}
}

/**
 * function to validate artist name
 * @param {string} url artist website/image url
 * @throws {ValidationError} if url is not a string or if url doesn't begin with http:// or https://
 */
function validateURL(url){
	if(typeof url !== "string" || !url.match(/^https?:\/\/[^\s/$.?#].\S*$/i)){
		throw new ValidationError("Invalid URL must begin with http:// or https://");
	}
}
/**
 * function to validate artist name
 * @param {string} description short description of artist
 * @throws {ValidationError} if description is not a string or not between 3 and 100 characters
 */
function validateDescription(description){
	if(typeof description !== "string" || description.length &lt; 3 || description.length > 100){
		throw new ValidationError("Invalid description, must be between 3 and 100 characters");
	}
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="HTTPException.html">HTTPException</a></li><li><a href="ValidationError.html">ValidationError</a></li></ul><h3>Global</h3><ul><li><a href="global.html#DELETE/artists/:id">DELETE /artists/:id</a></li><li><a href="global.html#DELETE/favorites/:id">DELETE /favorites/:id</a></li><li><a href="global.html#GET/artists">GET /artists</a></li><li><a href="global.html#GET/artists/:id">GET /artists/:id</a></li><li><a href="global.html#GET/favorites">GET /favorites</a></li><li><a href="global.html#PATH">PATH</a></li><li><a href="global.html#POST/artists">POST /artists</a></li><li><a href="global.html#POST/favorites">POST /favorites</a></li><li><a href="global.html#PUT/artists/:id">PUT /artists/:id</a></li><li><a href="global.html#addArtist">addArtist</a></li><li><a href="global.html#addArtistData">addArtistData</a></li><li><a href="global.html#addFavorite">addFavorite</a></li><li><a href="global.html#addFavoriteData">addFavoriteData</a></li><li><a href="global.html#app">app</a></li><li><a href="global.html#artistsRouter">artistsRouter</a></li><li><a href="global.html#deleteArtist">deleteArtist</a></li><li><a href="global.html#deleteArtistData">deleteArtistData</a></li><li><a href="global.html#errorHandler">errorHandler</a></li><li><a href="global.html#favoritesRouter">favoritesRouter</a></li><li><a href="global.html#findArtistObject">findArtistObject</a></li><li><a href="global.html#getArtists">getArtists</a></li><li><a href="global.html#getArtistsData">getArtistsData</a></li><li><a href="global.html#getArtistsInFavorites">getArtistsInFavorites</a></li><li><a href="global.html#getFavoriteIdsData">getFavoriteIdsData</a></li><li><a href="global.html#getFavorites">getFavorites</a></li><li><a href="global.html#getFavoritesData">getFavoritesData</a></li><li><a href="global.html#getOneArtistData">getOneArtistData</a></li><li><a href="global.html#getSpecificArtist">getSpecificArtist</a></li><li><a href="global.html#port">port</a></li><li><a href="global.html#removeFavorite">removeFavorite</a></li><li><a href="global.html#removeFavoriteData">removeFavoriteData</a></li><li><a href="global.html#throwIfArtistIdInFavorites">throwIfArtistIdInFavorites</a></li><li><a href="global.html#throwIfArtistIdNotInFavorites">throwIfArtistIdNotInFavorites</a></li><li><a href="global.html#updateArtist">updateArtist</a></li><li><a href="global.html#updateArtistData">updateArtistData</a></li><li><a href="global.html#updateArtistDetails">updateArtistDetails</a></li><li><a href="global.html#validateArr">validateArr</a></li><li><a href="global.html#validateArtist">validateArtist</a></li><li><a href="global.html#validateDate">validateDate</a></li><li><a href="global.html#validateDescription">validateDescription</a></li><li><a href="global.html#validateName">validateName</a></li><li><a href="global.html#validateURL">validateURL</a></li><li><a href="global.html#writeArtistsToFile">writeArtistsToFile</a></li><li><a href="global.html#writeFavoritesToFile">writeFavoritesToFile</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Thu Sep 07 2023 13:52:24 GMT+0200 (Centraleurop√¶isk sommertid)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
